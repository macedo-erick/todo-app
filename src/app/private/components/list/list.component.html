@if (list(); as list) {
  <mat-card class="wrapper bg__tertiary w-100">
    <mat-card-title class="py-2 px-3">
      <h2
        class="fs-7 fw-bolder content__editable select-none py-2 px-2 m-0 text-white"
        contenteditable
        #h1
        (blur)="handleTitleChange(list, h1.innerText)"
      >
        {{ list.name }}
      </h2>
    </mat-card-title>

    <mat-card-content>
      <ol
        class="ls-none d-flex flex-column p-0 gap-2"
        cdkDropList
        [cdkDropListData]="list.cards"
        (cdkDropListDropped)="drop($event)"
      >
        @for (card of list.cards; track card.name) {
          <li cdkDrag>
            <todo-card [card]="card" />
          </li>
        }
      </ol>
    </mat-card-content>

    <mat-card-actions class="d-flex px-3">
      <button
        mat-button
        class="btn action__btn fs-8 text-white d-flex flex-grow-1 justify-content-start"
        (mousedown)="addCard()"
      >
        <mat-icon>add</mat-icon>
        <span>Add a card</span>
      </button>
    </mat-card-actions>
  </mat-card>
}
